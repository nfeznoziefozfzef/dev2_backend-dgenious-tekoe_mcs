{
  "name" : "pivot with issues in averages",
  "modified" : "2020-01-17 17:39:30",
  "requires" : [ "scheme.TRA_PAY", "graph.tcpos", "scheme.TRA_PAY_AGG" ],
  "important" : false,
  "username" : "ejonuzoski",
  "document_id" : 778026271,
  "type" : "REPORT",
  "report" : {"properties":{"css":{"header":{"text-transform":"uppercase"}},"active_step":"s1001"},"steps":[{"alias":"s0","grouping":false,"name":"Ticket payments","properties":{"scheme":"Ticket payments"},"chart":false,"scheme":"TRA_PAY"},{"alias":"s1","steps":[{"alias":"s1001","columns":[{"alias":"s1001_c1015","name":"Year","grouping":"GROUP","expression":{"path":"shared.year","parameters":[{"path":"source.s1_c2","type":"DATE","resettable":false}],"type":"INTEGER","resettable":false},"filter":{"items":[{"comparator":"IS_EQUAL","expression":{"type":"INTEGER","value":"2015"}},{"comparator":"IS_EQUAL","expression":{"type":"INTEGER","value":"2016"}},{"comparator":"IS_EQUAL","expression":{"type":"INTEGER","value":"2017"}}],"and_or":"OR"},"properties":{"format":"0"},"resettable":false,"pivot":{"dimensions":{"dim_2":"##GROUPBY##"},"hash":966093940}},{"alias":"s1001_c1014","name":"Shop","grouping":"GROUP","expression":{"path":"source.s1_c3","type":"TEXT","resettable":false},"filter":{"items":[{"comparator":"IS_EQUAL","expression":{"type":"TEXT","value":"Berlin"}},{"comparator":"IS_EQUAL","expression":{"type":"TEXT","value":"Bonn"}},{"comparator":"IS_EQUAL","expression":{"type":"TEXT","value":"Lisboa"}}],"and_or":"OR"},"properties":{"width":200.0},"resettable":false,"pivot":{"dimensions":{"dim_3":"##GROUPBY##"},"hash":1325883230}},{"alias":"s1001_c1019","name":"Berlin","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Berlin"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Berlin"},"measure":"measure_1","hash":-2096799681,"dynamic_column":true}},{"alias":"s1001_c1020","name":"Bonn","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bonn"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bonn"},"measure":"measure_1","hash":-1789314463,"dynamic_column":true}},{"alias":"s1001_c1022","name":"Lisboa","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lisboa"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lisboa"},"measure":"measure_1","hash":595198078,"dynamic_column":true}},{"alias":"s1001_c1028","name":"Berlin","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Berlin"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Berlin"},"measure":"measure_2","hash":1214331299,"dynamic_column":true}},{"alias":"s1001_c1026","name":"Berlin","expression":{"path":"shared.pct_of_total","parameters":[{"path":"this.s1001_c1028","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":true},"properties":{"format":"0,0.0%","format_dec_length":1,"format_mand_decimals":false,"format_type":"percent"},"resettable":true,"pivot":{"dimensions":{"dim_1":"Berlin"},"measure":"measure_2","calculation":"calc_1","hash":1188724848}},{"alias":"s1001_c1029","name":"Bonn","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bonn"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bonn"},"measure":"measure_2","hash":492561842,"dynamic_column":true}},{"alias":"s1001_c1027","name":"Bonn","expression":{"path":"shared.pct_of_total","parameters":[{"path":"this.s1001_c1029","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":true},"properties":{"format":"0,0.0%","format_dec_length":1,"format_mand_decimals":false,"format_type":"percent"},"resettable":true,"pivot":{"dimensions":{"dim_1":"Bonn"},"measure":"measure_2","calculation":"calc_1","hash":-1037833327}},{"alias":"s1001_c1031","name":"Lisboa","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lisboa"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lisboa"},"measure":"measure_2","hash":1948792440,"dynamic_column":true}},{"alias":"s1001_c1030","name":"Lisboa","expression":{"path":"shared.pct_of_total","parameters":[{"path":"this.s1001_c1031","type":"DECIMAL","resettable":false}],"type":"DECIMAL","resettable":true},"properties":{"format":"0,0.0%","format_dec_length":1,"format_mand_decimals":false,"format_type":"percent"},"resettable":true,"pivot":{"dimensions":{"dim_1":"Lisboa"},"measure":"measure_2","calculation":"calc_1","hash":1893603016}}],"orderings":[{"column":"s1001_c1015","order":"DESCENDING"},{"column":"s1001_c1014","order":"ASCENDING"}],"grouping":true,"pivot":{"rows":[{"alias":"dim_2","values":["2015","2016","2017"],"order":"DESCENDING","column":"s1_c2","path":"shared.year"},{"alias":"dim_3","values":["Berlin","Bonn","Lisboa"],"column":"s1_c3"}],"columns":[{"alias":"dim_1","column":"s1_c3","hide_empty_columns":true,"dynamic_columns":true}],"measures":[{"alias":"measure_1","name":"Articles sold","grouping":"SUM","column":"s1_c0","compute_sum":true,"compute_average":true},{"alias":"measure_2","name":"Average turnover per place setting","grouping":"SUM","column":"s1_c1","compute_sum":true,"compute_average":true}],"calculations":[{"alias":"calc_1","calculation":"PCT_OF_TOTAL","parameters":[{"measure":"measure_2"}]},{"alias":"calc_2","calculation":"DIVISION","parameters":[{"dimension":"dim_1"},{"calculation":"calc_1"}]}],"dynamic_columns":true,"dynamic_column_names":false,"auto_drilldown":"s1"},"name":"Articles sold & Average turnover per place setting","properties":{"sets":{"enabled":true,"items":[{"name":"Articles sold","columns":["s1001_c1019","s1001_c1020","s1001_c1022"]},{"name":"Average turnover per place setting","columns":["s1001_c1028","s1001_c1029","s1001_c1031","s1001_c1026","s1001_c1027","s1001_c1030"]}]},"grouping_collapsed":true,"freezed_columns":["s1001_c1015","s1001_c1014"]}}],"columns":[{"alias":"s1_c0","name":"Articles sold","expression":{"path":"tcpos.SHO_S.ARTICLE_COUNT","type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false},{"alias":"s1_c1","name":"Average turnover per place setting","expression":{"path":"tcpos.SHO_S.AVG_GUEST_TURNOVER","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s1_c2","name":"Date","expression":{"path":"tcpos.SHO_S.BOOKKEEPING_DATE","type":"DATE","resettable":false},"resettable":false},{"alias":"s1_c3","name":"Shop","expression":{"path":"tcpos.SHO.DESCRIPTION","type":"TEXT","resettable":false},"properties":{"width":200.0},"resettable":false}],"grouping":false,"name":"Payment stats","properties":{"scheme":"Payment stats"},"chart":false,"scheme":"TRA_PAY_AGG"}] },
  "company" : "tekoe_mcs",
  "translatable" : false,
  "folder_id" : 1935916836
}