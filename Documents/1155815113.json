{
  "name" : "pivot with issues in averages [Edvin Jonuzoski]",
  "modified" : "2020-01-14 15:40:38",
  "requires" : [ "scheme.TRA_PAY", "graph.tcpos", "scheme.TRA_PAY_AGG" ],
  "important" : false,
  "username" : "alebacq",
  "document_id" : 1155815113,
  "type" : "REPORT",
  "report" : {"properties":{"css":{"header":{"text-transform":"uppercase"}},"active_step":"s2"},"steps":[{"alias":"s0","grouping":false,"name":"Ticket payments","properties":{"scheme":"Ticket payments"},"chart":false,"scheme":"TRA_PAY"},{"alias":"s1","steps":[{"alias":"s1001","columns":[{"alias":"s1001_c1015","name":"Année","grouping":"GROUP","expression":{"path":"shared.year","parameters":[{"path":"source.s1_c2","type":"DATE","resettable":false}],"type":"INTEGER","resettable":false},"properties":{"format":"0"},"resettable":false,"pivot":{"dimensions":{"dim_2":"##GROUPBY##"},"hash":966093940}},{"alias":"s1001_c1018","name":"Amsterdam","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Amsterdam"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Amsterdam"},"measure":"measure_1","hash":-438227143,"dynamic_column":true}},{"alias":"s1001_c1019","name":"Berlin","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Berlin"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Berlin"},"measure":"measure_1","hash":-2096799681,"dynamic_column":true}},{"alias":"s1001_c1020","name":"Bonn","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bonn"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bonn"},"measure":"measure_1","hash":-1789314463,"dynamic_column":true}},{"alias":"s1001_c1021","name":"Bordeaux","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bordeaux"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bordeaux"},"measure":"measure_1","hash":-907907224,"dynamic_column":true}},{"alias":"s1001_c1022","name":"Lisboa","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lisboa"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lisboa"},"measure":"measure_1","hash":595198078,"dynamic_column":true}},{"alias":"s1001_c1023","name":"Lyon","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lyon"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lyon"},"measure":"measure_1","hash":-2119064719,"dynamic_column":true}},{"alias":"s1001_c1024","name":"Milan","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Milan"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Milan"},"measure":"measure_1","hash":188235291,"dynamic_column":true}},{"alias":"s1001_c1025","name":"München","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"München"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"München"},"measure":"measure_1","hash":1880061917,"dynamic_column":true}},{"alias":"s1001_c1026","name":"Roma","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Roma"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Roma"},"measure":"measure_1","hash":-327779473,"dynamic_column":true}},{"alias":"s1001_c1027","name":"Amsterdam","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Amsterdam"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Amsterdam"},"measure":"measure_2","hash":2136084781,"dynamic_column":true}},{"alias":"s1001_c1028","name":"Berlin","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Berlin"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Berlin"},"measure":"measure_2","hash":1214331299,"dynamic_column":true}},{"alias":"s1001_c1029","name":"Bonn","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bonn"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bonn"},"measure":"measure_2","hash":492561842,"dynamic_column":true}},{"alias":"s1001_c1030","name":"Bordeaux","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Bordeaux"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Bordeaux"},"measure":"measure_2","hash":-393692243,"dynamic_column":true}},{"alias":"s1001_c1031","name":"Lisboa","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lisboa"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lisboa"},"measure":"measure_2","hash":1948792440,"dynamic_column":true}},{"alias":"s1001_c1032","name":"Lyon","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Lyon"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Lyon"},"measure":"measure_2","hash":-1733850948,"dynamic_column":true}},{"alias":"s1001_c1033","name":"Milan","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Milan"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Milan"},"measure":"measure_2","hash":-1052052977,"dynamic_column":true}},{"alias":"s1001_c1034","name":"München","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"München"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"München"},"measure":"measure_2","hash":-373705498,"dynamic_column":true}},{"alias":"s1001_c1035","name":"Roma","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Roma"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c1","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Roma"},"measure":"measure_2","hash":-921771837,"dynamic_column":true}}],"orderings":[{"column":"s1001_c1015","order":"DESCENDING"}],"grouping":true,"pivot":{"rows":[{"alias":"dim_2","order":"DESCENDING","column":"s1_c2","path":"shared.year"}],"columns":[{"alias":"dim_1","column":"s1_c3","hide_empty_columns":true,"dynamic_columns":true}],"measures":[{"alias":"measure_1","name":"Articles sold","grouping":"SUM","column":"s1_c0","compute_sum":true,"compute_average":true},{"alias":"measure_2","name":"Average turnover per place setting","grouping":"SUM","column":"s1_c1","compute_sum":true,"compute_average":true}],"dynamic_columns":true,"dynamic_column_names":false,"auto_drilldown":"s1"},"name":"Articles sold & Average turnover per place setting","properties":{"sets":{"enabled":true,"items":[{"name":"Articles sold","columns":["s1001_c1018","s1001_c1019","s1001_c1020","s1001_c1021","s1001_c1022","s1001_c1023","s1001_c1024","s1001_c1025","s1001_c1026"]},{"name":"Average turnover per place setting","columns":["s1001_c1027","s1001_c1028","s1001_c1029","s1001_c1030","s1001_c1031","s1001_c1032","s1001_c1033","s1001_c1034","s1001_c1035"]}]},"grouping_collapsed":true,"freezed_columns":["s1001_c1015"]}},{"alias":"s2","columns":[{"alias":"s2_c0","name":"Année","grouping":"GROUP","expression":{"path":"shared.year","parameters":[{"path":"source.s1_c2","type":"DATE","resettable":false}],"type":"INTEGER","resettable":false},"filter":{"items":[{"comparator":"IS_EQUAL","expression":{"type":"INTEGER","value":"2015"}},{"comparator":"IS_EQUAL","expression":{"type":"INTEGER","value":"2016"}}],"and_or":"OR"},"properties":{"format":"0"},"resettable":false,"pivot":{"dimensions":{"dim_2":"##GROUPBY##"},"hash":966093940}},{"alias":"s2_c1","name":"Amsterdam","grouping":"SUM","expression":{"path":"shared.if","parameters":[{"path":"shared.is_equal","parameters":[{"path":"source.s1_c3","type":"TEXT","resettable":false},{"type":"TEXT","value":"Amsterdam"}],"type":"BOOLEAN","resettable":false},{"path":"source.s1_c0","type":"DECIMAL","resettable":false},{"path":"system.null"}],"type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false,"pivot":{"dimensions":{"dim_1":"Amsterdam"},"measure":"measure_1","hash":-438227143,"dynamic_column":true}}],"orderings":[{"column":"s2_c0","order":"DESCENDING"}],"grouping":true,"pivot":{"rows":[{"alias":"dim_2","values":["2015","2016"],"order":"DESCENDING","column":"s1_c2","path":"shared.year"}],"columns":[{"alias":"dim_1","values":["Amsterdam"],"column":"s1_c3","hide_empty_columns":true,"dynamic_columns":true}],"measures":[{"alias":"measure_1","name":"Articles sold","grouping":"SUM","column":"s1_c0","compute_sum":true,"compute_average":true}],"dynamic_columns":true,"dynamic_column_names":false,"auto_drilldown":"s1","name_changed":true},"name":"Copie de Articles sold & Average turnover per place setting","properties":{"freezed_columns":["s2_c0"],"grouping_collapsed":true}}],"columns":[{"alias":"s1_c0","name":"Articles sold","expression":{"path":"tcpos.SHO_S.ARTICLE_COUNT","type":"DECIMAL","resettable":false},"compute_sum":true,"compute_average":true,"resettable":false},{"alias":"s1_c1","name":"Average turnover per place setting","expression":{"path":"tcpos.SHO_S.AVG_GUEST_TURNOVER","type":"DECIMAL","resettable":false},"properties":{"format":"0,0.00","format_unit":"CHF","format_pos":"prefix","format_dec_length":2,"format_mand_decimals":true,"format_type":"unit"},"resettable":false},{"alias":"s1_c2","name":"Date","expression":{"path":"tcpos.SHO_S.BOOKKEEPING_DATE","type":"DATE","resettable":false},"resettable":false},{"alias":"s1_c3","name":"Shop","expression":{"path":"tcpos.SHO.DESCRIPTION","type":"TEXT","resettable":false},"properties":{"width":200.0},"resettable":false}],"grouping":false,"name":"Payment stats","properties":{"scheme":"Payment stats"},"chart":false,"scheme":"TRA_PAY_AGG"}] },
  "company" : "tekoe_mcs",
  "translatable" : false,
  "folder_id" : -716863279
}